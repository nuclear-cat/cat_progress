<div class="container">
    <h3>{{ title }}</h3>

    <div *ngIf="form; else loading">

        <form (ngSubmit)="submitForm()" [formGroup]="form" novalidate>
            <div>
                <mat-form-field appearance="outline" class="full-width-field">
                    <mat-label>Title</mat-label>
                    <input formControlName="title" matInput placeholder="Title" type="text">
                </mat-form-field>
            </div>

            <div>
                <mat-form-field appearance="outline" class="full-width-field">
                    <mat-label>Description</mat-label>
                    <textarea #autosize="cdkTextareaAutosize"
                              cdkAutosizeMaxRows="10"
                              cdkAutosizeMinRows="2"
                              cdkTextareaAutosize
                              formControlName="description"
                              matInput
                              placeholder="Description"></textarea>
                </mat-form-field>
            </div>

            <div>
                <ng-container *ngFor="let color of colors;">
                    <button *ngIf="color === selectedColor" color="primary" disabled mat-icon-button type="button">
                        <mat-icon [style]="'color: ' + color">radio_button_checked</mat-icon>
                    </button>

                    <button (click)="selectColor(color)" *ngIf="color !== selectedColor" mat-icon-button type="button">
                        <mat-icon [style]="'color: ' + color">brightness_1</mat-icon>
                    </button>
                </ng-container>
            </div>
            <br/>

            <div class="button-wrapper">
                <button [disabled]="form.invalid || form.disabled" color="primary"
                        mat-flat-button>Create
                </button>
            </div>
        </form>
    </div>
</div>

<ng-template #loading>Loading...</ng-template>
